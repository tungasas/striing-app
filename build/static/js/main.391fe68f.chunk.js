(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(48),c=n.n(i),o=n(3),d=n(6),s=n(9),u=n(24),b=n(18),l=n(7),h=n(15),p="#3b68ff",f="#2c334d",j="#1b1f30",g="#fafcfd",O="#E0e5ed",x=n(1);var v,m,y=function(){return Object(x.b)(s.b,{to:"/",css:{fontFamily:"'Ubuntu', sans-serif",fontSize:"2.5em",margin:"0.09em 0 0.45em",textDecoration:"none",color:"inherit"},children:[Object(x.a)("span",{css:{color:p,fontFamily:"inherit"},children:"S"}),"triing"]})},k="@media (max-width: 768px)",w=n(31),S=l.a.div(v||(v=Object(b.a)(["\n  height: 100%;\n  width: 240px;\n  position: fixed;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  background: radial-gradient(\n    circle,\n    rgba(180, 198, 255, 0.8) 0%,\n    rgba(201, 214, 255, 0.8) 20%,\n    rgba(230, 235, 255, 0.95) 35%,\n    rgba(242, 243, 255, 0.95) 70%,\n    rgba(250, 250, 255, 0.95) 100%\n  );\n  overflow-x: hidden; /* Disable horizontal scroll */\n  padding-top: 20px;\n\n  ","\n"])),""),C={width:"25px",height:"25px",margin:"8px 12px"};function R(e){var t=e.name,n=Object(u.a)(e,["name"]);return Object(x.a)(s.c,Object(o.a)({css:[{display:"flex",alignItems:"center",textDecoration:"none",fontSize:"18px",backgroundColor:"none",color:"#8295B0",margin:"40px 40px",borderRadius:"6px",fontWeight:"700",border:"solid 2px transparent","&:hover":{backgroundColor:O}},Object(h.a)(m||(m=Object(b.a)(['\n          &:after {\n            content: "','";\n          }\n          ',"\n        "])),t,"")],activeStyle:{backgroundColor:"white",color:"rgba(59, 104, 255, 0.9)",border:"solid 2px rgba(59, 104, 255, 0.9)"}},n))}function z(){return Object(x.b)(S,{children:[Object(x.a)("div",{css:{textAlign:"center"},children:Object(x.a)(y,{})}),Object(x.b)("div",{children:[Object(x.a)(R,{to:"/notes",name:"Notes",children:Object(x.a)(w.b,{css:C})}),Object(x.a)(R,{to:"/archived",name:"Archived",children:Object(x.a)(w.a,{css:C})}),Object(x.a)(R,{to:"/trash",name:"Trash bin",children:Object(x.a)(w.c,{css:C})})]})]})}var E,L=n(17),A=n(37),D=n(49),T=n.n(D),W=Object(h.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),F=Object(l.a)(A.b)({animation:"".concat(W," 1s linear infinite")});F.defaultProps={"aria-label":"loading"};var H=l.a.input({border:"1px solid #f1f1f4",background:"#f1f2f7",padding:"8px 12px",borderRadius:"3px",margin:"10px 20px"}),I={title:{padding:"12px 16px",fontSize:"18px",color:j},content:{padding:"12px 16px",fontSize:"14px"}},M=Object(l.a)(T.a)((function(e){var t=e.variant;return[Object(h.a)(E||(E=Object(b.a)(['\n    &:empty::before {\n      content: "','";\n      color: gray;\n      cursor: text;\n    }\n  '])),"title"===t?"Title":"content"===t?"Take a note...":""),I[t]]})),N=l.a.div({display:"flex",flexDirection:"column"}),B={primary:{padding:"10px 15px",margin:"10px 20px",background:p,color:"white"},secondary:{background:g,color:f},transparent:{background:"transparent",position:"absolute",top:"5px",right:"3px",fontWeight:"700",fontSize:"1.2em"},closeNote:{padding:"10px 16px",marginRight:"15px",background:"none",color:j,fontSize:"16px","&:hover":{backgroundColor:"#F0F2F5"},"&:focus":{backgroundColor:O,outline:"none"}}},P=l.a.button({border:"0",lineHeight:"1",borderRadius:"3px",color:f},(function(e){var t=e.variant;return B[void 0===t?"primary":t]})),X={homeCTALink:Object(L.a)({backgroundColor:p,color:"white",border:"none",borderRadius:"5px",fontWeight:"700",padding:"0.6em 1.3em",display:"inline-block",fontSize:"1.2em",marginTop:"2.6em"},"@media (min-width: 1200px)",{fontSize:"1.3em"}),homeNavLink:{fontWeight:"400",color:"#2c334d",background:"none",border:"none",backgroundImage:"linear-gradient(to right, #3b68ff 0%, #3b68ff)",backgroundOrigin:"content-box",backgroundSize:"0% 4px",backgroundRepeat:"no-repeat",backgroundPosition:"0% 100%",transition:"background-size 0.2s",margin:"0.1em 0 0.5em 1.1em",fontSize:"1.1em","&:hover":{backgroundSize:"100% 3px"}},closeModal:{background:"transparent",position:"absolute",top:"0px",right:"3px",fontWeight:"700",fontSize:"1.2em",zIndex:"60",padding:"5px"}},G=Object(l.a)(s.b)({textDecoration:"none"},(function(e){var t=e.variant;return X[void 0===t?"homeNavLink":t]}));function J(e){var t=e.error,n=e.type,r=void 0===n?"block":n;Object(u.a)(e,["error","type"]);return Object(x.b)("div",{css:{color:"#ef5350",marginBottom:"5px",display:{inline:"inline",block:"block"}[r]},children:[Object(x.b)("span",{children:[A.a," "]})," ",t.message||t]})}var U=function(e){var t=e.logout,n=e.isLoading,r=e.isError,a=e.error;return Object(x.b)("div",{children:[Object(x.a)("div",{css:{height:"60px"}}),Object(x.b)("div",{css:{position:"fixed",zIndex:"40",top:"0",right:"0",width:"calc(100% - 240px)",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(O),backgroundColor:g},children:[Object(x.a)("div",{css:{height:"60px"}}),Object(x.b)("div",{css:{marginRight:"20px"},children:[n?Object(x.a)(F,{}):r&&Object(x.a)(J,{error:a,type:"inline"}),Object(x.a)(G,{to:"/",variant:"homeNavLink",onClick:function(){return t()},children:"Logout"})]})]})]})},_=n(19),q=n(38),K=n(50),Q=n.n(K);function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.token,a=t.customHeaders,i=t.customConfig,c=Object(o.a)({method:n?"post":"get",url:e,data:n||void 0,headers:Object(o.a)({Authorization:r?"Bearer ".concat(r):void 0,"Content-Type":n?"application/json":void 0},a)},i);return Q()(c)}var Y={status:"idle",data:null,error:null};function Z(e){var t=r.useRef(Object(o.a)(Object(o.a)({},Y),e)),n=r.useReducer((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),t.current),a=Object(_.a)(n,2),i=a[0],c=i.status,d=i.data,s=i.error,u=function(e){var t=r.useRef(!1);return r.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),r.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(a[1]),b=r.useCallback((function(e){return u({status:"resolved",data:e})}),[u]),l=r.useCallback((function(e){return u({status:"rejected",error:e})}),[u]),h=r.useCallback((function(){u(t.current)}),[u]);return{isIdle:"idle"===c,isLoading:"pending"===c,isSuccess:"resolved"===c,isError:"rejected"===c,status:c,data:d,error:s,run:r.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return u({status:"pending"}),e.then((function(e){return b(e.data),e.data})).catch((function(e){return l(e.response.data),e.response.data}))}),[u,b,l]),reset:h,setData:b,setError:l}}var $={title:"",content:""};function ee(e,t){var n=t.type,r=t.value;switch(n){case"all":return Object(o.a)(Object(o.a)({},e),r);case"title":return Object(o.a)(Object(o.a)({},e),{},{title:r});case"content":return Object(o.a)(Object(o.a)({},e),{},{content:r});case"color":return Object(o.a)(Object(o.a)({},e),{},{color:r});case"label":return Object(o.a)(Object(o.a)({},e),{},{label:r});case"archived":return Object(o.a)(Object(o.a)({},e),{},{archived:r});case"trashed":return Object(o.a)(Object(o.a)({},e),{},{trashed:r,trashDate:Date.now});default:throw new Error("Please define an appropriate action for Note")}}var te={noteForm:{width:"80%",maxWidth:"600px",boxShadow:"0 1px 5px 2px rgba(0, 0, 0, 0.1)"}},ne=l.a.div({border:"1px solid ".concat(O),borderRadius:"10px",margin:"38px auto 18px auto",overflow:"hidden"},(function(e){var t=e.variant;return te[t]}));function re(e){e.preventDefault(),document.execCommand("inserttext",!1,e.clipboardData.getData("text/plain"))}var ae=function(e){var t=e.runAsync,n=function(e){var t=r.useRef(Object(o.a)(Object(o.a)({},$),e)),n=r.useReducer(ee,t.current),a=Object(_.a)(n,2);return{note:a[0],setNote:a[1]}}(),a=n.note,i=n.setNote,c=r.useRef(""),d=r.useRef(""),s=r.useRef(),u=r.useState(!1),b=Object(_.a)(u,2),l=b[0],h=b[1],p=r.useRef();r.useEffect((function(){l||""===c.current&&""===d.current||(c.current="",d.current="",s.current.innerHTML="",t(function(e){return V("/api/notes/create",{data:e})}(a)))}),[a,l,t]);var f=r.useCallback((function(e){p.current.contains(e.target)||h(!1)}),[]);return r.useEffect((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[f]),Object(x.a)(ne,{variant:"noteForm",children:Object(x.b)("div",{ref:p,onFocus:function(){return h(!0)},children:[Object(x.b)("div",{children:[l&&Object(x.a)(N,{children:Object(x.a)(M,{variant:"title",html:c.current,spellCheck:"false",onPaste:re,onChange:function(e){c.current=e.target.value,i({type:"title",value:c.current})}})}),Object(x.a)(N,{children:Object(x.a)(M,{variant:"content",innerRef:s,html:d.current,spellCheck:"false",onPaste:re,onChange:function(e){d.current=e.target.value,i({type:"content",value:d.current})}})})]}),l&&Object(x.b)("div",{css:{display:"flex",justifyContent:"space-between",margin:"5px 0"},children:[Object(x.a)("div",{}),Object(x.a)("div",{children:Object(x.a)(P,{variant:"closeNote",onClick:function(){h(!1)},children:"Close"})})]})]})})},ie=l.a.div({padding:"12px 16px 0",fontSize:"18px",fontWeight:"400",lineHeight:"1.5",minHeight:"38px"}),ce=l.a.div({padding:"8px 16px 12px 16px",minHeight:"30px",fontSize:"14px",lineHeight:"1.5"});var oe=function(e){var t=e.title,n=e.content,a=e.transform,i=e.setNoteDimensions,c=e.index,o=r.useRef();return r.useEffect((function(){i({width:o.current.offsetWidth,height:o.current.offsetHeight},c)}),[i,c]),Object(x.a)("div",{ref:o,css:{width:"240px",margin:"16px",position:"absolute",transform:"translate(".concat(a.x,"px, ").concat(a.y,"px)"),transition:"transform 0.25s"},children:Object(x.b)("div",{css:{border:"1px solid #E0e5ed",borderRadius:"10px",background:"white","&:hover":{boxShadow:"0 0 2px 2px rgba(0, 0, 0, 0.1)"}},children:[Object(x.b)("div",{children:[""!==t&&Object(x.a)(ie,{children:t}),""!==n&&Object(x.a)(ce,{children:n})]}),Object(x.a)("div",{css:{height:"32px"}})]})})};function de(e,t){return Array.isArray(t)?t:[t].concat(Object(q.a)(e))}var se=function(e){var t=e.runAsync,n=e.data,a=r.useReducer(de,[]),i=Object(_.a)(a,2),c=i[0],o=i[1],d=r.useRef(),s=r.useRef([]),u=r.useRef([]),b=r.useState(!0),l=Object(_.a)(b,2),h=l[0],p=l[1],f=r.useRef(),j=r.useCallback((function(e,t){if(h){u.current[t]=e;var n=Math.min.apply(Math,Object(q.a)(s.current)),r=s.current.findIndex((function(e){return e===n})),a=256*r;s.current[r]+=u.current[t].height+16,u.current[t].x=a,u.current[t].y=n,t===c.length-1&&h&&p(!1)}}),[c.length,h]),g=r.useCallback((function(e){return h?{x:0,y:0}:{x:u.current[e].x,y:u.current[e].y}}),[h]);r.useEffect((function(){n&&(o(n),u.current=[],s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0),p(!0))}),[n]),r.useEffect((function(){s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0)}),[]);var O=r.useCallback((function(){clearTimeout(f.current),f.current=setTimeout((function(){var e=Math.floor((document.documentElement.clientWidth-240)/256);e!==s.current.length&&(s.current=Array(e).fill(0),u.current=[],p(!0))}),250)}),[]);return r.useEffect((function(){return window.addEventListener("resize",O),function(){return window.removeEventListener("resize",O)}}),[O]),r.useEffect((function(){t(V("/api/notes/",{data:{note:!0}}))}),[t]),Object(x.b)("div",{ref:d,children:[Object(x.a)(ae,{runAsync:t}),Object(x.a)("div",{css:{width:"".concat(256*s.current.length+16,"px"),margin:"0 auto"},children:c.map((function(e,t){return Object(x.a)(oe,{title:e.title,content:e.content,transform:g(t),setNoteDimensions:j,index:t},e._id)}))})]})};function ue(e){var t=e.runAsync,n=e.data;return Object(x.b)(d.d,{children:[Object(x.a)(d.b,{exact:!0,path:"/notes",children:Object(x.a)(se,{runAsync:t,data:n})}),Object(x.a)(d.b,{exact:!0,path:"/archived",children:"archived"}),Object(x.a)(d.b,{exact:!0,path:"/trash",children:"trash"}),Object(x.a)(d.a,{from:"*",to:"/notes"})]})}var be,le,he,pe=function(e){var t=e.user,n=e.logout,r=Z(),a=r.data,i=r.isLoading,c=r.isError,u=r.error,b=r.run,l={logout:n,isLoading:i,isError:c,error:u};return t?Object(x.a)(s.a,{children:Object(x.b)("div",{css:{display:"flex"},children:[Object(x.b)("div",{children:[Object(x.a)("div",{css:{minWidth:"240px"}}),Object(x.a)(z,{})]}),Object(x.b)("div",{css:{width:"100%"},children:[Object(x.a)("div",{children:Object(x.a)(U,Object(o.a)({},l))}),Object(x.a)("div",{children:Object(x.a)(ue,{runAsync:b,data:a})})]})]})}):Object(x.a)(d.a,{to:"/"})},fe={display:"flex",alignItems:"center",padding:"1% 3%",justifyContent:"space-between"},je=Object(L.a)({position:"relative",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",marginLeft:"3%",boxShadow:"0px 1px 2px rgb(186, 193, 211)",background:"linear-gradient(149deg,rgba(212, 225, 255, 1) 0%,rgba(242, 226, 254, 1) 25%, rgba(228, 246, 246, 1) 50%, rgba(190, 242, 252, 1) 75%, rgba(182, 230, 249, 1) 100%)",height:"90%"},k,{marginLeft:"4%"}),ge=Object(L.a)({position:"absolute",width:"35%",left:"5%",bottom:"12%"},k,{width:"88%",left:"50%",transform:"translateX(-50%)",textAlign:"center",bottom:"8%"}),Oe=(be={fontSize:"4em",margin:"0"},Object(L.a)(be,"@media (min-width: 769px) and (max-width: 1199px)",{fontSize:"2.8em"}),Object(L.a)(be,k,{fontSize:"2.6em"}),be);function xe(e){var t=e.children,n=Object(u.a)(e,["children"]);return Object(x.a)("div",Object(o.a)(Object(o.a)({css:{width:"320px",maxWidth:"100%",height:"480px",maxHeight:"100%",position:"fixed",zIndex:"100",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"white",boxShadow:"0 0 30px 5px rgba(0, 0, 0, 0.3)",borderRadius:"5px",borderTop:"solid ".concat(p," 6px")}},n),{},{children:t}))}var ve=l.a.div(Object(h.a)(le||(le=Object(b.a)(["\n  text-align: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: 20px;\n"])))),me=l.a.div(Object(h.a)(he||(he=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 50;\n  background-color: rgba(0, 0, 0, 0.6);\n  ","\n"])),""));function ye(e){var t=e.children;return Object(x.b)("div",{children:[Object(x.a)(me,{}),t]})}function ke(e){var t=e.onSubmit,n=e.type,r=Z(),a=r.isLoading,i=r.isError,c=r.error,o=r.run;return Object(x.b)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.username,a=n.password;o(t({username:r.value,password:a.value}))},children:[i?Object(x.a)(J,{error:c}):null,Object(x.b)(N,{children:[Object(x.a)("label",{htmlFor:"username",children:"Email"}),Object(x.a)(H,{id:"username",type:"email"})]}),Object(x.b)(N,{children:[Object(x.a)("label",{htmlFor:"password",children:"Password"}),Object(x.a)(H,{id:"password",type:"password"})]}),Object(x.a)(N,{children:Object(x.a)(P,{type:"submit",variant:"primary",children:a?Object(x.a)(F,{}):n})})]})}var we=function(e){var t=e.login,n=e.register;return Object(x.b)(s.a,{children:[Object(x.b)("main",{css:{display:"flex",flexFlow:"column",height:"1px",minHeight:"100vh"},children:[Object(x.b)("nav",{css:fe,children:[Object(x.a)(y,{}),Object(x.b)("div",{children:[Object(x.a)(G,{to:"/login",children:"Log in"}),Object(x.a)(G,{to:"/signup",children:"Sign up"})]})]}),Object(x.a)("section",{css:{flex:"1"},children:Object(x.a)("div",{css:je,children:Object(x.b)("div",{css:ge,children:[Object(x.b)("h1",{css:Oe,children:["Hi there, come make a"," ",Object(x.a)("span",{css:{textDecoration:"underline"},children:"note, to-do list, and more..."})]}),Object(x.a)(G,{to:"/login",variant:"homeCTALink",children:"Get started"})]})})})]}),Object(x.b)(d.d,{children:[Object(x.a)(d.b,{path:"/login",children:Object(x.a)(ye,{children:Object(x.b)(xe,{children:[Object(x.a)(G,{to:"/",variant:"closeModal",children:"X"}),Object(x.b)(ve,{children:[Object(x.a)("h2",{children:"Log in"}),Object(x.a)(y,{}),Object(x.a)("p",{children:"to save your progress"}),Object(x.a)(ke,{type:"Log in",onSubmit:t},"login"),Object(x.b)("p",{children:["Don't have an account? ",Object(x.a)(s.b,{to:"/signup",children:"Sign up"})]})]})]})})}),Object(x.a)(d.b,{path:"/signup",children:Object(x.a)(ye,{children:Object(x.b)(xe,{children:[Object(x.a)(G,{to:"/",variant:"closeModal",children:"X"}),Object(x.b)(ve,{children:[Object(x.a)("h2",{children:"Sign up"}),Object(x.a)(y,{}),Object(x.a)("p",{children:"to save your progress"}),Object(x.a)(ke,{type:"Sign up",onSubmit:n},"signup"),Object(x.b)("p",{children:["Already signed up? ",Object(x.a)(s.b,{to:"/login",children:"Go to login"})]})]})]})})})]})]})};var Se=n(8);var Ce=function(){var e=Z(),t=e.data,n=e.error,a=e.isIdle,i=e.isLoading,c=e.isSuccess,o=e.isError,d=e.run,u=e.setData;return r.useEffect((function(){d(V("/api/auth"))}),[d]),i||a?Object(Se.jsx)("h1",{children:"Loading"}):o?Object(Se.jsx)("h1",{children:n.message}):c?Object(Se.jsx)(s.a,{children:t?Object(Se.jsx)(pe,{user:t,logout:function(){V("/api/auth/logout"),u(null)}}):Object(Se.jsx)(we,{login:function(e){return function(e){return V("/api/auth",{data:e})}(e).then((function(e){return u(e.data),e}))},register:function(e){return function(e){return V("/api/users",{data:e})}(e).then((function(e){return u(e.data),e}))}})}):void 0};n(80);c.a.render(Object(Se.jsx)(a.a.StrictMode,{children:Object(Se.jsx)(Ce,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.391fe68f.chunk.js.map
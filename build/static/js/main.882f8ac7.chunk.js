(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),i=n(48),o=n.n(i),d=n(3),s=n(6),u=n(9),b=n(12),l=n(24),h=n(18),p=n(7),f=n(11),j="@media (max-width: 768px)",g="#3b68ff",O="#2c334d",x="#1b1f30",v="#fafcfd",m="#E0e5ed",y=n(2);var w,k,S=function(){return Object(y.a)(u.b,{to:"/",css:Object(f.a)(r||(r=Object(h.a)(['\n        font-family: "Ubuntu", sans-serif;\n        font-size: 2.5em;\n        margin: 0.09em 0 0.45em;\n        text-decoration: none;\n        color: inherit;\n        &:after {\n          content: "triing";\n        }\n        ',' {\n          &:after {\n            content: "tr";\n          }\n        }\n      '])),j),children:Object(y.a)("span",{css:{color:g,fontFamily:"inherit"},children:"S"})})},C=n(31),R=p.a.div(w||(w=Object(h.a)(["\n  height: 100%;\n  width: 240px;\n  position: fixed;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  background: radial-gradient(\n    circle,\n    rgba(180, 198, 255, 0.8) 0%,\n    rgba(201, 214, 255, 0.8) 20%,\n    rgba(230, 235, 255, 0.95) 35%,\n    rgba(242, 243, 255, 0.95) 70%,\n    rgba(250, 250, 255, 0.95) 100%\n  );\n  overflow-x: hidden; /* Disable horizontal scroll */\n  padding-top: 20px;\n\n  "," {\n    width: 80px;\n  }\n"])),j),z={width:"25px",height:"25px",margin:"8px 12px"};function E(e){var t=e.name,n=Object(l.a)(e,["name"]);return Object(y.a)(u.c,Object(d.a)({css:[{display:"flex",alignItems:"center",textDecoration:"none",fontSize:"18px",backgroundColor:"none",color:"#8295B0",margin:"40px 40px",borderRadius:"6px",fontWeight:"700",border:"solid 2px transparent","&:hover":{backgroundColor:m}},Object(f.a)(k||(k=Object(h.a)(['\n          &:after {\n            content: "','";\n          }\n          ',' {\n            margin: 40px 15px;\n            &:after {\n              content: "";\n            }\n          }\n        '])),t,j)],activeStyle:{backgroundColor:"white",color:"rgba(59, 104, 255, 0.9)",border:"solid 2px rgba(59, 104, 255, 0.9)"}},n))}function L(){return Object(y.b)("div",{children:[Object(y.a)("div",{css:Object(b.a)({width:"240px"},j,{width:"80px"})}),Object(y.b)(R,{children:[Object(y.a)("div",{css:{textAlign:"center"},children:Object(y.a)(S,{})}),Object(y.b)("div",{children:[Object(y.a)(E,{to:"/notes",name:"Notes",children:Object(y.a)(C.b,{css:z})}),Object(y.a)(E,{to:"/archived",name:"Archived",children:Object(y.a)(C.a,{css:z})}),Object(y.a)(E,{to:"/trash",name:"Trash bin",children:Object(y.a)(C.c,{css:z})})]})]})]})}var A,D=n(37),T=n(49),W=n.n(T),H=Object(f.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),I=Object(p.a)(D.b)({animation:"".concat(H," 1s linear infinite")});I.defaultProps={"aria-label":"loading"};var M=p.a.input({border:"1px solid #f1f1f4",background:"#f1f2f7",padding:"8px 12px",borderRadius:"3px",margin:"10px 20px"}),N={title:{padding:"12px 16px",fontSize:"18px",color:x},content:{padding:"12px 16px",fontSize:"14px"}},F=Object(p.a)(W.a)((function(e){var t=e.variant;return[Object(f.a)(A||(A=Object(h.a)(['\n    &:empty::before {\n      content: "','";\n      color: gray;\n      cursor: text;\n    }\n  '])),"title"===t?"Title":"content"===t?"Take a note...":""),N[t]]})),B=p.a.div({display:"flex",flexDirection:"column"}),P={primary:{padding:"10px 15px",margin:"10px 20px",background:g,color:"white"},secondary:{background:v,color:O},transparent:{background:"transparent",position:"absolute",top:"5px",right:"3px",fontWeight:"700",fontSize:"1.2em"},closeNote:{padding:"10px 16px",marginRight:"15px",background:"none",color:x,fontSize:"16px","&:hover":{backgroundColor:"#F0F2F5"},"&:focus":{backgroundColor:m,outline:"none"}}},X=p.a.button({border:"0",lineHeight:"1",borderRadius:"3px",color:O},(function(e){var t=e.variant;return P[void 0===t?"primary":t]})),G={homeCTALink:Object(b.a)({backgroundColor:g,color:"white",border:"none",borderRadius:"5px",fontWeight:"700",padding:"0.6em 1.3em",display:"inline-block",fontSize:"1.2em",marginTop:"2.6em"},"@media (min-width: 1200px)",{fontSize:"1.3em"}),homeNavLink:{fontWeight:"400",color:"#2c334d",background:"none",border:"none",backgroundImage:"linear-gradient(to right, #3b68ff 0%, #3b68ff)",backgroundOrigin:"content-box",backgroundSize:"0% 4px",backgroundRepeat:"no-repeat",backgroundPosition:"0% 100%",transition:"background-size 0.2s",margin:"0.1em 0 0.5em 1.1em",fontSize:"1.1em","&:hover":{backgroundSize:"100% 3px"}},closeModal:{background:"transparent",position:"absolute",top:"0px",right:"3px",fontWeight:"700",fontSize:"1.2em",zIndex:"60",padding:"5px"}},J=Object(p.a)(u.b)({textDecoration:"none"},(function(e){var t=e.variant;return G[void 0===t?"homeNavLink":t]}));function U(e){var t=e.error,n=e.type,r=void 0===n?"block":n;Object(l.a)(e,["error","type"]);return Object(y.b)("div",{css:{color:"#ef5350",marginBottom:"5px",display:{inline:"inline",block:"block"}[r]},children:[Object(y.b)("span",{children:[D.a," "]})," ",t.message||t]})}var _=function(e){var t=e.logout,n=e.isLoading,r=e.isError,a=e.error;return Object(y.b)("div",{children:[Object(y.a)("div",{css:{height:"60px"}}),Object(y.b)("div",{css:Object(b.a)({position:"fixed",zIndex:"40",top:"0",right:"0",width:"calc(100% - 240px)",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(m),backgroundColor:v},j,{width:"calc(100% - 80px)"}),children:[Object(y.a)("div",{css:{height:"60px"}}),Object(y.b)("div",{css:{marginRight:"20px"},children:[n?Object(y.a)(I,{}):r&&Object(y.a)(U,{error:a,type:"inline"}),Object(y.a)(J,{to:"/",variant:"homeNavLink",onClick:function(){return t()},children:"Logout"})]})]})]})},q=n(19),K=n(38),Q=n(50),V=n.n(Q);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.token,a=t.customHeaders,c=t.customConfig,i=Object(d.a)({method:n?"post":"get",url:e,data:n||void 0,headers:Object(d.a)({Authorization:r?"Bearer ".concat(r):void 0,"Content-Type":n?"application/json":void 0},a)},c);return V()(i)}var Z={status:"idle",data:null,error:null};function $(e){var t=a.useRef(Object(d.a)(Object(d.a)({},Z),e)),n=a.useReducer((function(e,t){return Object(d.a)(Object(d.a)({},e),t)}),t.current),r=Object(q.a)(n,2),c=r[0],i=c.status,o=c.data,s=c.error,u=function(e){var t=a.useRef(!1);return a.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),a.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(r[1]),b=a.useCallback((function(e){return u({status:"resolved",data:e})}),[u]),l=a.useCallback((function(e){return u({status:"rejected",error:e})}),[u]),h=a.useCallback((function(){u(t.current)}),[u]);return{isIdle:"idle"===i,isLoading:"pending"===i,isSuccess:"resolved"===i,isError:"rejected"===i,status:i,data:o,error:s,run:a.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return u({status:"pending"}),e.then((function(e){return b(e.data),e.data})).catch((function(e){return l(e.response.data),e.response.data}))}),[u,b,l]),reset:h,setData:b,setError:l}}var ee={title:"",content:""};function te(e,t){var n=t.type,r=t.value;switch(n){case"all":return Object(d.a)(Object(d.a)({},e),r);case"title":return Object(d.a)(Object(d.a)({},e),{},{title:r});case"content":return Object(d.a)(Object(d.a)({},e),{},{content:r});case"color":return Object(d.a)(Object(d.a)({},e),{},{color:r});case"label":return Object(d.a)(Object(d.a)({},e),{},{label:r});case"archived":return Object(d.a)(Object(d.a)({},e),{},{archived:r});case"trashed":return Object(d.a)(Object(d.a)({},e),{},{trashed:r,trashDate:Date.now});default:throw new Error("Please define an appropriate action for Note")}}var ne={noteForm:{width:"80%",maxWidth:"600px",boxShadow:"0 1px 5px 2px rgba(0, 0, 0, 0.1)"}},re=p.a.div({border:"1px solid ".concat(m),borderRadius:"10px",margin:"38px auto 18px auto",overflow:"hidden"},(function(e){var t=e.variant;return ne[t]}));function ae(e){e.preventDefault(),document.execCommand("inserttext",!1,e.clipboardData.getData("text/plain"))}var ce=function(e){var t=e.runAsync,n=function(e){var t=a.useRef(Object(d.a)(Object(d.a)({},ee),e)),n=a.useReducer(te,t.current),r=Object(q.a)(n,2);return{note:r[0],setNote:r[1]}}(),r=n.note,c=n.setNote,i=a.useRef(""),o=a.useRef(""),s=a.useRef(),u=a.useState(!1),b=Object(q.a)(u,2),l=b[0],h=b[1],p=a.useRef();a.useEffect((function(){l||""===i.current&&""===o.current||(i.current="",o.current="",s.current.innerHTML="",t(function(e){return Y("/api/notes/create",{data:e})}(r)))}),[r,l,t]);var f=a.useCallback((function(e){p.current.contains(e.target)||h(!1)}),[]);return a.useEffect((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[f]),Object(y.a)(re,{variant:"noteForm",children:Object(y.b)("div",{ref:p,onFocus:function(){return h(!0)},children:[Object(y.b)("div",{children:[l&&Object(y.a)(B,{children:Object(y.a)(F,{variant:"title",html:i.current,spellCheck:"false",onPaste:ae,onChange:function(e){i.current=e.target.value,c({type:"title",value:i.current})}})}),Object(y.a)(B,{children:Object(y.a)(F,{variant:"content",innerRef:s,html:o.current,spellCheck:"false",onPaste:ae,onChange:function(e){o.current=e.target.value,c({type:"content",value:o.current})}})})]}),l&&Object(y.b)("div",{css:{display:"flex",justifyContent:"space-between",margin:"5px 0"},children:[Object(y.a)("div",{}),Object(y.a)("div",{children:Object(y.a)(X,{variant:"closeNote",onClick:function(){h(!1)},children:"Close"})})]})]})})},ie=p.a.div({padding:"12px 16px 0",fontSize:"18px",fontWeight:"400",lineHeight:"1.5",minHeight:"38px"}),oe=p.a.div({padding:"8px 16px 12px 16px",minHeight:"30px",fontSize:"14px",lineHeight:"1.5"});var de=function(e){var t=e.title,n=e.content,r=e.transform,c=e.setNoteDimensions,i=e.index,o=a.useRef();return a.useEffect((function(){c({width:o.current.offsetWidth,height:o.current.offsetHeight},i)}),[c,i]),Object(y.a)("div",{ref:o,css:{width:"240px",margin:"16px",position:"absolute",transform:"translate(".concat(r.x,"px, ").concat(r.y,"px)"),transition:"transform 0.25s"},children:Object(y.b)("div",{css:{border:"1px solid #E0e5ed",borderRadius:"10px",background:"white","&:hover":{boxShadow:"0 0 2px 2px rgba(0, 0, 0, 0.1)"}},children:[Object(y.b)("div",{children:[""!==t&&Object(y.a)(ie,{children:t}),""!==n&&Object(y.a)(oe,{children:n})]}),Object(y.a)("div",{css:{height:"32px"}})]})})};function se(e,t){return Array.isArray(t)?t:[t].concat(Object(K.a)(e))}var ue=function(e){var t=e.runAsync,n=e.data,r=a.useReducer(se,[]),c=Object(q.a)(r,2),i=c[0],o=c[1],d=a.useRef(),s=a.useRef([]),u=a.useRef([]),b=a.useState(!0),l=Object(q.a)(b,2),h=l[0],p=l[1],f=a.useRef(),j=a.useCallback((function(e,t){if(h){u.current[t]=e;var n=Math.min.apply(Math,Object(K.a)(s.current)),r=s.current.findIndex((function(e){return e===n})),a=256*r;s.current[r]+=u.current[t].height+16,u.current[t].x=a,u.current[t].y=n,t===i.length-1&&h&&p(!1)}}),[i.length,h]),g=a.useCallback((function(e){return h?{x:0,y:0}:{x:u.current[e].x,y:u.current[e].y}}),[h]);a.useEffect((function(){n&&(o(n),u.current=[],s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0),p(!0))}),[n]),a.useEffect((function(){s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0)}),[]);var O=a.useCallback((function(){clearTimeout(f.current),f.current=setTimeout((function(){var e=document.documentElement.clientWidth,t=Math.floor((e-(e<768?80:240))/256);t!==s.current.length&&(s.current=Array(t).fill(0),u.current=[],p(!0))}),250)}),[]);return a.useEffect((function(){return window.addEventListener("resize",O),function(){return window.removeEventListener("resize",O)}}),[O]),a.useEffect((function(){t(Y("/api/notes/",{data:{note:!0}}))}),[t]),Object(y.b)("div",{ref:d,children:[Object(y.a)(ce,{runAsync:t}),Object(y.a)("div",{css:{width:"".concat(256*s.current.length+16,"px"),margin:"0 auto"},children:i.map((function(e,t){return Object(y.a)(de,{title:e.title,content:e.content,transform:g(t),setNoteDimensions:j,index:t},e._id)}))})]})};function be(e){var t=e.runAsync,n=e.data;return Object(y.b)(s.d,{children:[Object(y.a)(s.b,{exact:!0,path:"/notes",children:Object(y.a)(ue,{runAsync:t,data:n})}),Object(y.a)(s.b,{exact:!0,path:"/archived",children:"archived"}),Object(y.a)(s.b,{exact:!0,path:"/trash",children:"trash"}),Object(y.a)(s.a,{from:"*",to:"/notes"})]})}var le,he,pe,fe=function(e){var t=e.user,n=e.logout,r=$(),a=r.data,c=r.isLoading,i=r.isError,o=r.error,b=r.run,l={logout:n,isLoading:c,isError:i,error:o};return t?Object(y.a)(u.a,{children:Object(y.b)("div",{css:{display:"flex"},children:[Object(y.a)("div",{children:Object(y.a)(L,{})}),Object(y.b)("div",{css:{width:"100%"},children:[Object(y.a)("div",{children:Object(y.a)(_,Object(d.a)({},l))}),Object(y.a)("div",{children:Object(y.a)(be,{runAsync:b,data:a})})]})]})}):Object(y.a)(s.a,{to:"/"})},je={display:"flex",alignItems:"center",padding:"1% 3%",justifyContent:"space-between"},ge=Object(b.a)({position:"relative",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",marginLeft:"3%",boxShadow:"0px 1px 2px rgb(186, 193, 211)",background:"linear-gradient(149deg,rgba(212, 225, 255, 1) 0%,rgba(242, 226, 254, 1) 25%, rgba(228, 246, 246, 1) 50%, rgba(190, 242, 252, 1) 75%, rgba(182, 230, 249, 1) 100%)",height:"90%"},j,{marginLeft:"4%"}),Oe=Object(b.a)({position:"absolute",width:"35%",left:"5%",bottom:"12%"},j,{width:"88%",left:"50%",transform:"translateX(-50%)",textAlign:"center",bottom:"8%"}),xe=(le={fontSize:"4em",margin:"0"},Object(b.a)(le,"@media (min-width: 769px) and (max-width: 1199px)",{fontSize:"2.8em"}),Object(b.a)(le,j,{fontSize:"2.6em"}),le);function ve(e){var t=e.children,n=Object(l.a)(e,["children"]);return Object(y.a)("div",Object(d.a)(Object(d.a)({css:{width:"320px",maxWidth:"100%",height:"480px",maxHeight:"100%",position:"fixed",zIndex:"100",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"white",boxShadow:"0 0 30px 5px rgba(0, 0, 0, 0.3)",borderRadius:"5px",borderTop:"solid ".concat(g," 6px")}},n),{},{children:t}))}var me=p.a.div(Object(f.a)(he||(he=Object(h.a)(["\n  text-align: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: 20px;\n"])))),ye=p.a.div(Object(f.a)(pe||(pe=Object(h.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 50;\n  background-color: rgba(0, 0, 0, 0.6);\n  ","\n"])),""));function we(e){var t=e.children;return Object(y.b)("div",{children:[Object(y.a)(ye,{}),t]})}function ke(e){var t=e.onSubmit,n=e.type,r=$(),a=r.isLoading,c=r.isError,i=r.error,o=r.run;return Object(y.b)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.username,a=n.password;o(t({username:r.value,password:a.value}))},children:[c?Object(y.a)(U,{error:i}):null,Object(y.b)(B,{children:[Object(y.a)("label",{htmlFor:"username",children:"Email"}),Object(y.a)(M,{id:"username",type:"email"})]}),Object(y.b)(B,{children:[Object(y.a)("label",{htmlFor:"password",children:"Password"}),Object(y.a)(M,{id:"password",type:"password"})]}),Object(y.a)(B,{children:Object(y.a)(X,{type:"submit",variant:"primary",children:a?Object(y.a)(I,{}):n})})]})}var Se=function(e){var t=e.login,n=e.register;return Object(y.b)(u.a,{children:[Object(y.b)("main",{css:{display:"flex",flexFlow:"column",height:"1px",minHeight:"100vh"},children:[Object(y.b)("nav",{css:je,children:[Object(y.a)(S,{}),Object(y.b)("div",{children:[Object(y.a)(J,{to:"/login",children:"Log in"}),Object(y.a)(J,{to:"/signup",children:"Sign up"})]})]}),Object(y.a)("section",{css:{flex:"1"},children:Object(y.a)("div",{css:ge,children:Object(y.b)("div",{css:Oe,children:[Object(y.b)("h1",{css:xe,children:["Hi there, come make a"," ",Object(y.a)("span",{css:{textDecoration:"underline"},children:"note, to-do list, and more..."})]}),Object(y.a)(J,{to:"/login",variant:"homeCTALink",children:"Get started"})]})})})]}),Object(y.b)(s.d,{children:[Object(y.a)(s.b,{path:"/login",children:Object(y.a)(we,{children:Object(y.b)(ve,{children:[Object(y.a)(J,{to:"/",variant:"closeModal",children:"X"}),Object(y.b)(me,{children:[Object(y.a)("h2",{children:"Log in"}),Object(y.a)(S,{}),Object(y.a)("p",{children:"to save your progress"}),Object(y.a)(ke,{type:"Log in",onSubmit:t},"login"),Object(y.b)("p",{children:["Don't have an account? ",Object(y.a)(u.b,{to:"/signup",children:"Sign up"})]})]})]})})}),Object(y.a)(s.b,{path:"/signup",children:Object(y.a)(we,{children:Object(y.b)(ve,{children:[Object(y.a)(J,{to:"/",variant:"closeModal",children:"X"}),Object(y.b)(me,{children:[Object(y.a)("h2",{children:"Sign up"}),Object(y.a)(S,{}),Object(y.a)("p",{children:"to save your progress"}),Object(y.a)(ke,{type:"Sign up",onSubmit:n},"signup"),Object(y.b)("p",{children:["Already signed up? ",Object(y.a)(u.b,{to:"/login",children:"Go to login"})]})]})]})})})]})]})};var Ce=n(8);var Re=function(){var e=$(),t=e.data,n=e.error,r=e.isIdle,c=e.isLoading,i=e.isSuccess,o=e.isError,d=e.run,s=e.setData;return a.useEffect((function(){d(Y("/api/auth"))}),[d]),c||r?Object(Ce.jsx)("h1",{children:"Loading"}):o?Object(Ce.jsx)("h1",{children:n.message}):i?Object(Ce.jsx)(u.a,{children:t?Object(Ce.jsx)(fe,{user:t,logout:function(){Y("/api/auth/logout"),s(null)}}):Object(Ce.jsx)(Se,{login:function(e){return function(e){return Y("/api/auth",{data:e})}(e).then((function(e){return s(e.data),e}))},register:function(e){return function(e){return Y("/api/users",{data:e})}(e).then((function(e){return s(e.data),e}))}})}):void 0};n(80);o.a.render(Object(Ce.jsx)(c.a.StrictMode,{children:Object(Ce.jsx)(Re,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.882f8ac7.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(46),c=n.n(i),o=n(2),d=n(5),s=n(8),u=n(18),b=n(6),l="#3b68ff",h="#2c334d",p="#1b1f30",f="#fafcfd",g="#E0e5ed",j=n(0);var O,x=function(){return Object(j.b)(s.b,{to:"/",css:{fontFamily:"'Ubuntu', sans-serif",fontSize:"2.5em",margin:"0.09em 0 0.45em",textDecoration:"none",color:"inherit"},children:[Object(j.a)("span",{css:{color:l,fontFamily:"inherit"},children:"S"}),"triing"]})},v=b.a.div(O||(O=Object(u.a)(['\n  height: 100%; /* Full-height: remove this if you want "auto" height */\n  width: 240px; /* Set the width of the sidebar */\n  position: fixed; /* Fixed Sidebar (stay in place on scroll) */\n  z-index: 50; /* Stay on top */\n  top: 0; /* Stay at the top */\n  left: 0;\n  background: radial-gradient(\n    circle,\n    rgba(180, 198, 255, 0.8) 0%,\n    rgba(201, 214, 255, 0.8) 20%,\n    rgba(230, 235, 255, 0.95) 35%,\n    rgba(242, 243, 255, 0.95) 70%,\n    rgba(250, 250, 255, 0.95) 100%\n  );\n  overflow-x: hidden; /* Disable horizontal scroll */\n  padding-top: 20px;\n'])));function m(e){var t=Object.assign({},e);return Object(j.a)(s.c,Object(o.a)({css:{padding:"10px 15px",textDecoration:"none",fontSize:"18px",backgroundColor:"none",color:"#8295B0",display:"block",margin:"40px 40px",borderRadius:"6px",fontWeight:"700",border:"solid 2px transparent","&:hover":{backgroundColor:g}},activeStyle:{backgroundColor:"white",color:"rgba(59, 104, 255, 0.9)",border:"solid 2px rgba(59, 104, 255, 0.9)"}},t))}function y(){return Object(j.b)(v,{children:[Object(j.a)("div",{css:{textAlign:"center"},children:Object(j.a)(x,{})}),Object(j.b)("div",{children:[Object(j.a)(m,{to:"/notes",children:"Notes"}),Object(j.a)(m,{to:"/archived",children:"Archived"}),Object(j.a)(m,{to:"/trash",children:"Trash bin"})]})]})}var k,w=n(29),S=n(16),C=n(15),R="@media (max-width: 768px)",z=n(35),L=n(47),E=n.n(L),A=Object(C.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),D=Object(b.a)(z.b)({animation:"".concat(A," 1s linear infinite")});D.defaultProps={"aria-label":"loading"};var F=b.a.input({border:"1px solid #f1f1f4",background:"#f1f2f7",padding:"8px 12px",borderRadius:"3px",margin:"10px 20px"}),W={title:{padding:"12px 16px",fontSize:"18px",color:p},content:{padding:"12px 16px",fontSize:"14px"}},H=Object(b.a)(E.a)((function(e){var t=e.variant;return[Object(C.a)(k||(k=Object(u.a)(['\n    &:empty::before {\n      content: "','";\n      color: gray;\n      cursor: text;\n    }\n  '])),"title"===t?"Title":"content"===t?"Take a note...":""),W[t]]})),N=b.a.div({display:"flex",flexDirection:"column"}),T={primary:{padding:"10px 15px",margin:"10px 20px",background:l,color:"white"},secondary:{background:f,color:h},transparent:{background:"transparent",position:"absolute",top:"5px",right:"3px",fontWeight:"700",fontSize:"1.2em"},closeNote:{padding:"10px 16px",marginRight:"15px",background:"none",color:p,fontSize:"16px","&:hover":{backgroundColor:"#F0F2F5"},"&:focus":{backgroundColor:g,outline:"none"}}},I=b.a.button({border:"0",lineHeight:"1",borderRadius:"3px",color:h},(function(e){var t=e.variant;return T[void 0===t?"primary":t]})),M={homeCTALink:Object(S.a)({backgroundColor:l,color:"white",border:"none",borderRadius:"5px",fontWeight:"700",padding:"0.6em 1.3em",display:"inline-block",fontSize:"1.2em",marginTop:"2.6em"},"@media (min-width: 1200px)",{fontSize:"1.3em"}),homeNavLink:{fontWeight:"400",color:"#2c334d",background:"none",border:"none",backgroundImage:"linear-gradient(to right, #3b68ff 0%, #3b68ff)",backgroundOrigin:"content-box",backgroundSize:"0% 4px",backgroundRepeat:"no-repeat",backgroundPosition:"0% 100%",transition:"background-size 0.2s",margin:"0.1em 0 0.5em 1.1em",fontSize:"1.1em","&:hover":{backgroundSize:"100% 3px"}},closeModal:{background:"transparent",position:"absolute",top:"0px",right:"3px",fontWeight:"700",fontSize:"1.2em",zIndex:"60",padding:"5px"}},B=Object(b.a)(s.b)({textDecoration:"none"},(function(e){var t=e.variant;return M[void 0===t?"homeNavLink":t]}));function P(e){var t=e.error,n=e.type,r=void 0===n?"block":n;Object(w.a)(e,["error","type"]);return Object(j.b)("div",{css:{color:"#ef5350",marginBottom:"5px",display:{inline:"inline",block:"block"}[r]},children:[Object(j.b)("span",{children:[z.a," "]})," ",t.message||t]})}var X=function(e){var t=e.logout,n=e.isLoading,r=e.isError,a=e.error;return Object(j.b)("div",{children:[Object(j.a)("div",{css:{height:"60px"}}),Object(j.b)("div",{css:{position:"fixed",zIndex:"40",top:"0",right:"0",width:"calc(100% - 240px)",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(g),backgroundColor:f},children:[Object(j.a)("div",{css:{height:"60px"}}),Object(j.b)("div",{css:{marginRight:"20px"},children:[n?Object(j.a)(D,{}):r&&Object(j.a)(P,{error:a,type:"inline"}),Object(j.a)(B,{to:"/",variant:"homeNavLink",onClick:function(){return t()},children:"Logout"})]})]})]})},G=n(17),J=n(36),U=n(48),_=n.n(U);function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.token,a=t.customHeaders,i=t.customConfig,c=Object(o.a)({method:n?"post":"get",url:e,data:n||void 0,headers:Object(o.a)({Authorization:r?"Bearer ".concat(r):void 0,"Content-Type":n?"application/json":void 0},a)},i);return _()(c)}var K={status:"idle",data:null,error:null};function Q(e){var t=r.useRef(Object(o.a)(Object(o.a)({},K),e)),n=r.useReducer((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),t.current),a=Object(G.a)(n,2),i=a[0],c=i.status,d=i.data,s=i.error,u=function(e){var t=r.useRef(!1);return r.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),r.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(a[1]),b=r.useCallback((function(e){return u({status:"resolved",data:e})}),[u]),l=r.useCallback((function(e){return u({status:"rejected",error:e})}),[u]),h=r.useCallback((function(){u(t.current)}),[u]);return{isIdle:"idle"===c,isLoading:"pending"===c,isSuccess:"resolved"===c,isError:"rejected"===c,status:c,data:d,error:s,run:r.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return u({status:"pending"}),e.then((function(e){return b(e.data),e.data})).catch((function(e){return l(e.response.data),e.response.data}))}),[u,b,l]),reset:h,setData:b,setError:l}}var V={title:"",content:""};function Y(e,t){var n=t.type,r=t.value;switch(n){case"all":return Object(o.a)(Object(o.a)({},e),r);case"title":return Object(o.a)(Object(o.a)({},e),{},{title:r});case"content":return Object(o.a)(Object(o.a)({},e),{},{content:r});case"color":return Object(o.a)(Object(o.a)({},e),{},{color:r});case"label":return Object(o.a)(Object(o.a)({},e),{},{label:r});case"archived":return Object(o.a)(Object(o.a)({},e),{},{archived:r});case"trashed":return Object(o.a)(Object(o.a)({},e),{},{trashed:r,trashDate:Date.now});default:throw new Error("Please define an appropriate action for Note")}}var Z={noteForm:{width:"80%",maxWidth:"600px",boxShadow:"0 1px 5px 2px rgba(0, 0, 0, 0.1)"}},$=b.a.div({border:"1px solid ".concat(g),borderRadius:"10px",margin:"38px auto 18px auto",overflow:"hidden"},(function(e){var t=e.variant;return Z[t]}));function ee(e){e.preventDefault(),document.execCommand("inserttext",!1,e.clipboardData.getData("text/plain"))}var te=function(e){var t=e.runAsync,n=function(e){var t=r.useRef(Object(o.a)(Object(o.a)({},V),e)),n=r.useReducer(Y,t.current),a=Object(G.a)(n,2);return{note:a[0],setNote:a[1]}}(),a=n.note,i=n.setNote,c=r.useRef(""),d=r.useRef(""),s=r.useRef(),u=r.useState(!1),b=Object(G.a)(u,2),l=b[0],h=b[1],p=r.useRef();r.useEffect((function(){l||""===c.current&&""===d.current||(c.current="",d.current="",s.current.innerHTML="",t(function(e){return q("/api/notes/create",{data:e})}(a)))}),[a,l,t]);var f=r.useCallback((function(e){p.current.contains(e.target)||h(!1)}),[]);return r.useEffect((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[f]),Object(j.a)($,{variant:"noteForm",children:Object(j.b)("div",{ref:p,onFocus:function(){return h(!0)},children:[Object(j.b)("div",{children:[l&&Object(j.a)(N,{children:Object(j.a)(H,{variant:"title",html:c.current,spellCheck:"false",onPaste:ee,onChange:function(e){c.current=e.target.value,i({type:"title",value:c.current})}})}),Object(j.a)(N,{children:Object(j.a)(H,{variant:"content",innerRef:s,html:d.current,spellCheck:"false",onPaste:ee,onChange:function(e){d.current=e.target.value,i({type:"content",value:d.current})}})})]}),l&&Object(j.b)("div",{css:{display:"flex",justifyContent:"space-between",margin:"5px 0"},children:[Object(j.a)("div",{}),Object(j.a)("div",{children:Object(j.a)(I,{variant:"closeNote",onClick:function(){h(!1)},children:"Close"})})]})]})})},ne=b.a.div({padding:"12px 16px 0",fontSize:"18px",fontWeight:"400",lineHeight:"1.5",minHeight:"38px"}),re=b.a.div({padding:"8px 16px 12px 16px",minHeight:"30px",fontSize:"14px",lineHeight:"1.5"});var ae=function(e){var t=e.title,n=e.content,a=e.transform,i=e.setNoteDimensions,c=e.index,o=r.useRef();return r.useEffect((function(){i({width:o.current.offsetWidth,height:o.current.offsetHeight},c)}),[i,c]),Object(j.a)("div",{ref:o,css:{width:"240px",margin:"16px",position:"absolute",transform:"translate(".concat(a.x,"px, ").concat(a.y,"px)"),transition:"transform 0.25s"},children:Object(j.b)("div",{css:{border:"1px solid #E0e5ed",borderRadius:"10px",background:"white","&:hover":{boxShadow:"0 0 2px 1px rgba(0, 0, 0, 0.1)"}},children:[Object(j.b)("div",{children:[""!==t&&Object(j.a)(ne,{children:t}),""!==n&&Object(j.a)(re,{children:n})]}),Object(j.a)("div",{css:{height:"32px"}})]})})};function ie(e,t){return Array.isArray(t)?t:[t].concat(Object(J.a)(e))}var ce=function(e){var t=e.runAsync,n=e.data,a=r.useReducer(ie,[]),i=Object(G.a)(a,2),c=i[0],o=i[1],d=r.useRef(),s=r.useRef([]),u=r.useRef([]),b=r.useState(!0),l=Object(G.a)(b,2),h=l[0],p=l[1],f=r.useCallback((function(e,t){if(h){u.current[t]=e;var n=Math.min.apply(Math,Object(J.a)(s.current)),r=s.current.findIndex((function(e){return e===n})),a=256*r;s.current[r]+=u.current[t].height+16,u.current[t].x=a,u.current[t].y=n,t===c.length-1&&h&&p(!1)}}),[c.length,h]),g=r.useCallback((function(e){return h?{x:0,y:0}:{x:u.current[e].x,y:u.current[e].y}}),[h]);return r.useEffect((function(){n&&(o(n),u.current=[],s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0),p(!0))}),[n]),r.useEffect((function(){s.current=Array(Math.floor(d.current.offsetWidth/256)).fill(0)}),[]),r.useEffect((function(){t(q("/api/notes/",{data:{note:!0}}))}),[t]),Object(j.b)("div",{ref:d,children:[Object(j.a)(te,{runAsync:t}),Object(j.a)("div",{css:{width:"".concat(256*s.current.length+16,"px"),margin:"0 auto"},children:c.map((function(e,t){return Object(j.a)(ae,{title:e.title,content:e.content,transform:g(t),setNoteDimensions:f,index:t},e._id)}))})]})};function oe(e){var t=e.runAsync,n=e.data;return Object(j.b)(d.d,{children:[Object(j.a)(d.b,{exact:!0,path:"/notes",children:Object(j.a)(ce,{runAsync:t,data:n})}),Object(j.a)(d.b,{exact:!0,path:"/archived",children:"archived"}),Object(j.a)(d.b,{exact:!0,path:"/trash",children:"trash"}),Object(j.a)(d.a,{from:"*",to:"/notes"})]})}var de,se,ue,be=function(e){var t=e.user,n=e.logout,r=Q(),a=r.data,i=r.isLoading,c=r.isError,u=r.error,b=r.run,l={logout:n,isLoading:i,isError:c,error:u};return t?Object(j.a)(s.a,{children:Object(j.b)("div",{css:{display:"flex"},children:[Object(j.b)("div",{children:[Object(j.a)("div",{css:{minWidth:"240px"}}),Object(j.a)(y,{})]}),Object(j.b)("div",{css:{width:"100%"},children:[Object(j.a)("div",{children:Object(j.a)(X,Object(o.a)({},l))}),Object(j.a)("div",{children:Object(j.a)(oe,{runAsync:b,data:a})})]})]})}):Object(j.a)(d.a,{to:"/"})},le={display:"flex",alignItems:"center",padding:"1% 3%",justifyContent:"space-between"},he=Object(S.a)({position:"relative",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",marginLeft:"3%",boxShadow:"0px 1px 2px rgb(186, 193, 211)",background:"linear-gradient(149deg,rgba(212, 225, 255, 1) 0%,rgba(242, 226, 254, 1) 25%, rgba(228, 246, 246, 1) 50%, rgba(190, 242, 252, 1) 75%, rgba(182, 230, 249, 1) 100%)",height:"90%"},R,{marginLeft:"4%"}),pe=Object(S.a)({position:"absolute",width:"35%",left:"5%",bottom:"12%"},R,{width:"88%",left:"50%",transform:"translateX(-50%)",textAlign:"center",bottom:"8%"}),fe=(de={fontSize:"4em",margin:"0"},Object(S.a)(de,"@media (min-width: 769px) and (max-width: 1199px)",{fontSize:"2.8em"}),Object(S.a)(de,R,{fontSize:"2.6em"}),de);function ge(e){var t=e.children,n=Object(w.a)(e,["children"]);return Object(j.a)("div",Object(o.a)(Object(o.a)({css:{width:"320px",maxWidth:"100%",height:"480px",maxHeight:"100%",position:"fixed",zIndex:"100",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"white",boxShadow:"0 0 30px 5px rgba(0, 0, 0, 0.3)",borderRadius:"5px",borderTop:"solid ".concat(l," 6px")}},n),{},{children:t}))}var je=b.a.div(Object(C.a)(se||(se=Object(u.a)(["\n  text-align: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: 20px;\n"])))),Oe=b.a.div(Object(C.a)(ue||(ue=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 50;\n  background-color: rgba(0, 0, 0, 0.6);\n  ","\n"])),""));function xe(e){var t=e.children;return Object(j.b)("div",{children:[Object(j.a)(Oe,{}),t]})}function ve(e){var t=e.onSubmit,n=e.type,r=Q(),a=r.isLoading,i=r.isError,c=r.error,o=r.run;return Object(j.b)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.username,a=n.password;o(t({username:r.value,password:a.value}))},children:[i?Object(j.a)(P,{error:c}):null,Object(j.b)(N,{children:[Object(j.a)("label",{htmlFor:"username",children:"Email"}),Object(j.a)(F,{id:"username",type:"email"})]}),Object(j.b)(N,{children:[Object(j.a)("label",{htmlFor:"password",children:"Password"}),Object(j.a)(F,{id:"password",type:"password"})]}),Object(j.a)(N,{children:Object(j.a)(I,{type:"submit",variant:"primary",children:a?Object(j.a)(D,{}):n})})]})}var me=function(e){var t=e.login,n=e.register;return Object(j.b)(s.a,{children:[Object(j.b)("main",{css:{display:"flex",flexFlow:"column",height:"1px",minHeight:"100vh"},children:[Object(j.b)("nav",{css:le,children:[Object(j.a)(x,{}),Object(j.b)("div",{children:[Object(j.a)(B,{to:"/login",children:"Log in"}),Object(j.a)(B,{to:"/signup",children:"Sign up"})]})]}),Object(j.a)("section",{css:{flex:"1"},children:Object(j.a)("div",{css:he,children:Object(j.b)("div",{css:pe,children:[Object(j.b)("h1",{css:fe,children:["Hi there, come make a"," ",Object(j.a)("span",{css:{textDecoration:"underline"},children:"note, to-do list, and more..."})]}),Object(j.a)(B,{to:"/login",variant:"homeCTALink",children:"Get started"})]})})})]}),Object(j.b)(d.d,{children:[Object(j.a)(d.b,{path:"/login",children:Object(j.a)(xe,{children:Object(j.b)(ge,{children:[Object(j.a)(B,{to:"/",variant:"closeModal",children:"X"}),Object(j.b)(je,{children:[Object(j.a)("h2",{children:"Log in"}),Object(j.a)(x,{}),Object(j.a)("p",{children:"to save your progress"}),Object(j.a)(ve,{type:"Log in",onSubmit:t},"login"),Object(j.b)("p",{children:["Don't have an account? ",Object(j.a)(s.b,{to:"/signup",children:"Sign up"})]})]})]})})}),Object(j.a)(d.b,{path:"/signup",children:Object(j.a)(xe,{children:Object(j.b)(ge,{children:[Object(j.a)(B,{to:"/",variant:"closeModal",children:"X"}),Object(j.b)(je,{children:[Object(j.a)("h2",{children:"Sign up"}),Object(j.a)(x,{}),Object(j.a)("p",{children:"to save your progress"}),Object(j.a)(ve,{type:"Sign up",onSubmit:n},"signup"),Object(j.b)("p",{children:["Already signed up? ",Object(j.a)(s.b,{to:"/login",children:"Go to login"})]})]})]})})})]})]})};var ye=n(7);var ke=function(){var e=Q(),t=e.data,n=e.error,a=e.isIdle,i=e.isLoading,c=e.isSuccess,o=e.isError,d=e.run,u=e.setData;return r.useEffect((function(){d(q("/api/auth"))}),[d]),i||a?Object(ye.jsx)("h1",{children:"Loading"}):o?Object(ye.jsx)("h1",{children:n.message}):c?Object(ye.jsx)(s.a,{children:t?Object(ye.jsx)(be,{user:t,logout:function(){q("/api/auth/logout"),u(null)}}):Object(ye.jsx)(me,{login:function(e){return function(e){return q("/api/auth",{data:e})}(e).then((function(e){return u(e.data),e}))},register:function(e){return function(e){return q("/api/users",{data:e})}(e).then((function(e){return u(e.data),e}))}})}):void 0};n(78);c.a.render(Object(ye.jsx)(a.a.StrictMode,{children:Object(ye.jsx)(ke,{})}),document.getElementById("root"))}},[[79,1,2]]]);